(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6309:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var a=n(1766),s=n(7294),i=n(1476),r=n(5893),o=function(){var t=(0,s.useContext)(i.ThemeContext),e=t.colorMode,n=t.setColorMode;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{children:["Darkmode",(0,r.jsx)("input",{type:"checkbox",checked:"dark"===e,onChange:function(){return n("dark"===e?"light":"dark")}})]})]})},u=n(8216),l=n(2809),c=function t(e,n,a,s){var i=this;(0,u.Z)(this,t),(0,l.Z)(this,"callback",void 0),(0,l.Z)(this,"tickCallback",void 0),(0,l.Z)(this,"stopCallback",void 0),(0,l.Z)(this,"timestamps",void 0),(0,l.Z)(this,"totalElapsedTime",void 0),(0,l.Z)(this,"raf",void 0),(0,l.Z)(this,"startTimestamp",void 0),(0,l.Z)(this,"currentTimestampIndex",void 0),(0,l.Z)(this,"animationFrame",void 0),(0,l.Z)(this,"setTimestamps",(function(t){i.timestamps=t})),(0,l.Z)(this,"start",(function(){var t;(i.stop((function(){})),i.timestamps.length>0)&&(i.startTimestamp=performance.now(),i.currentTimestampIndex=0,null===(t=i.raf)||void 0===t||t.call(window,i.tick))})),(0,l.Z)(this,"stop",(function(t){var e;i.animationFrame&&(window.cancelAnimationFrame(i.animationFrame),delete i.animationFrame),i.totalElapsedTime=0,t?t():null===(e=i.stopCallback)||void 0===e||e.call(i)})),(0,l.Z)(this,"tick",(function(){var t,e;i.totalElapsedTime=performance.now()-i.startTimestamp,null===(t=i.tickCallback)||void 0===t||t.call(i,i.totalElapsedTime),i.totalElapsedTime>=i.timestamps[i.currentTimestampIndex]&&(i.callback(),i.currentTimestampIndex+=1,i.currentTimestampIndex>=i.timestamps.length)?i.stop():i.animationFrame=null===(e=i.raf)||void 0===e?void 0:e.call(window,i.tick)})),this.callback=e,this.tickCallback=n,this.stopCallback=a,this.timestamps=s||[],this.totalElapsedTime=0,this.raf=window.requestAnimationFrame,this.startTimestamp=0,this.currentTimestampIndex=0},m=1e3/59.7275,d=function(t,e,n){for(var a=[t],s=0;s<e-1;s++)a.push(a[s]-n);return a.reverse().filter((function(t){return t>=0}))},f=function(t){var e=t.label,n=t.state,a=t.setState;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{children:[e," "]}),(0,r.jsx)("input",{value:n,onKeyPress:function(t){/[0-9]/.test(t.key)||t.preventDefault()},onInput:function(t){var e=parseInt(t.currentTarget.value);Number.isInteger(e)?a(parseInt(t.currentTarget.value)):a(0)}})]})},p=function(){var t=(0,s.useState)(0),e=t[0],n=t[1],i=(0,s.useState)(5e3),u=i[0],l=i[1],p=(0,s.useState)(1e3),h=p[0],v=p[1],x=(0,s.useState)(0),b=x[0],k=x[1],T=(0,s.useState)(0),j=T[0],w=T[1],S=(0,s.useState)(),E=S[0],C=S[1],Z=(0,s.useState)(!1),F=Z[0],_=Z[1],g=(0,s.useState)(0),I=g[0],N=g[1],y=(0,s.useState)(0),P=y[0],M=y[1],A=(0,s.useState)(),D=A[0],H=A[1],O=(0,s.useState)(!1),X=O[0],q=O[1],K=(0,s.useState)(5),L=K[0],U=(K[1],(0,s.useState)(500)),z=U[0];U[1];return(0,s.useEffect)((function(){var t=new a.Howl({src:["beep.wav"]}),e=new c((function(){return t.play()}),(function(t){return M(t)}),(function(){q(!1),M(I)}));H(e)}),[]),(0,s.useEffect)((function(){var t=new a.Howl({src:["beep.wav"]}),e=new c((function(){return t.play()}),(function(t){return w(t)}),(function(){_(!1),w(0),null===D||void 0===D||D.start(),q(!0)}));C(e)}),[D]),(0,s.useEffect)((function(){var t=d(I,L,z);null===D||void 0===D||D.setTimestamps(t)}),[I,D,L,z]),(0,s.useEffect)((function(){var t=d(u,L,z);null===E||void 0===E||E.setTimestamps(t)}),[u,E,L,z]),(0,s.useEffect)((function(){N(Math.max(0,h*m+e))}),[e,h]),(0,s.useEffect)((function(){null===D||void 0===D||D.stop(),q(!1),w(0),null===E||void 0===E||E.stop((function(){_(!1),w(0)})),_(!1)}),[e,u,h,b]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Pre Timer (s): ","".concat(((u-j)/1e3).toFixed(2))," ",(0,r.jsx)("br",{}),"Time (s): ","".concat(((I-P)/1e3).toFixed(2))," ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(f,{label:"Lag (ms)",state:e,setState:n}),(0,r.jsx)(f,{label:"Pre-timer (ms)",state:u,setState:l}),(0,r.jsx)(f,{label:"Target frame",state:h,setState:v}),(0,r.jsx)("br",{}),(0,r.jsx)(f,{label:"Frame hit",state:b,setState:k}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:function(){0!==b&&n(Math.round((h-b)*m))},children:"Update"}),X||F?(0,r.jsx)("button",{onClick:function(){null===E||void 0===E||E.stop((function(){_(!1),w(0)})),_(!1),null===D||void 0===D||D.stop(),q(!1)},children:"Stop"}):(0,r.jsx)("button",{onClick:function(){null===E||void 0===E||E.start(),_(!0)},children:"Start"})]})}},5301:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6309)}])}},function(t){t.O(0,[283,774,888,179],(function(){return e=5301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);