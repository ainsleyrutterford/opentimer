(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6309:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var n=a(1766),s=a(7294),i=a(1476),r=a(5893),o=function(){var t=(0,s.useContext)(i.ThemeContext),e=t.colorMode,a=t.setColorMode;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{children:["Darkmode",(0,r.jsx)("input",{type:"checkbox",checked:"dark"===e,onChange:function(){return a("dark"===e?"light":"dark")}})]})]})},l=a(8216),u=a(2809),c=function t(e,a,n,s){var i=this;(0,l.Z)(this,t),(0,u.Z)(this,"callback",void 0),(0,u.Z)(this,"tickCallback",void 0),(0,u.Z)(this,"stopCallback",void 0),(0,u.Z)(this,"timestamps",void 0),(0,u.Z)(this,"totalElapsedTime",void 0),(0,u.Z)(this,"raf",void 0),(0,u.Z)(this,"startTimestamp",void 0),(0,u.Z)(this,"currentTimestampIndex",void 0),(0,u.Z)(this,"animationFrame",void 0),(0,u.Z)(this,"setTimestamps",(function(t){i.timestamps=t})),(0,u.Z)(this,"start",(function(){var t;(i.stop(),i.timestamps.length>0)&&(i.startTimestamp=performance.now(),i.currentTimestampIndex=0,null===(t=i.raf)||void 0===t||t.call(window,i.tick))})),(0,u.Z)(this,"stop",(function(){var t;i.animationFrame&&(window.cancelAnimationFrame(i.animationFrame),delete i.animationFrame),i.totalElapsedTime=0,null===(t=i.stopCallback)||void 0===t||t.call(i)})),(0,u.Z)(this,"tick",(function(){var t,e;i.totalElapsedTime=performance.now()-i.startTimestamp,null===(t=i.tickCallback)||void 0===t||t.call(i,i.totalElapsedTime),i.totalElapsedTime>=i.timestamps[i.currentTimestampIndex]&&(i.callback(),i.currentTimestampIndex+=1,i.currentTimestampIndex>=i.timestamps.length)?i.stop():i.animationFrame=null===(e=i.raf)||void 0===e?void 0:e.call(window,i.tick)})),this.callback=e,this.tickCallback=a,this.stopCallback=n,this.timestamps=s||[],this.totalElapsedTime=0,this.raf=window.requestAnimationFrame,this.startTimestamp=0,this.currentTimestampIndex=0},m=1e3/59.7275,d=function(t){var e=t.label,a=t.state,n=t.setState;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{children:[e," "]}),(0,r.jsx)("input",{value:a,onKeyPress:function(t){/[0-9]/.test(t.key)||t.preventDefault()},onInput:function(t){var e=parseInt(t.currentTarget.value);Number.isInteger(e)?n(parseInt(t.currentTarget.value)):n(0)}})]})},f=function(){var t=(0,s.useState)(0),e=t[0],a=t[1],i=(0,s.useState)(5e3),l=i[0],u=i[1],f=(0,s.useState)(1e3),p=f[0],h=f[1],v=(0,s.useState)(0),x=v[0],b=v[1],k=(0,s.useState)(0),T=k[0],j=k[1],w=(0,s.useState)(0),S=w[0],C=w[1],E=(0,s.useState)(),Z=E[0],_=E[1],g=(0,s.useState)(!1),F=g[0],I=g[1],N=(0,s.useState)(5),y=N[0],P=(N[1],(0,s.useState)(500)),M=P[0];P[1];return(0,s.useEffect)((function(){var t=new n.Howl({src:["beep.wav"]}),e=new c((function(){return t.play()}),(function(t){return C(t)}),(function(){I(!1),C(T)}));_(e)}),[]),(0,s.useEffect)((function(){var t=function(t,e,a){for(var n=[t],s=0;s<e-1;s++)n.push(n[s]-a);return n.reverse().filter((function(t){return t>=0}))}(T,y,M);null===Z||void 0===Z||Z.setTimestamps(t)}),[T,Z,y,M]),(0,s.useEffect)((function(){j(p*m+e)}),[e,p]),(0,s.useEffect)((function(){C(0),null===Z||void 0===Z||Z.stop(),I(!1)}),[e,l,p,x]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{}),(0,r.jsx)("br",{}),"Time (s): ","".concat(((T-S)/1e3).toFixed(2))," ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(d,{label:"Lag (ms)",state:e,setState:a}),(0,r.jsx)(d,{label:"Pre-timer (ms)",state:l,setState:u}),(0,r.jsx)(d,{label:"Target frame",state:p,setState:h}),(0,r.jsx)("br",{}),(0,r.jsx)(d,{label:"Frame hit",state:x,setState:b}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:function(){0!==x&&a(Math.round((p-x)*m))},children:"Update"}),F?(0,r.jsx)("button",{onClick:function(){null===Z||void 0===Z||Z.stop(),I(!1)},children:"Stop"}):(0,r.jsx)("button",{onClick:function(){null===Z||void 0===Z||Z.start(),I(!0)},children:"Start"})]})}},5301:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6309)}])}},function(t){t.O(0,[283,774,888,179],(function(){return e=5301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);