(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4249:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var n=a(1766),s=a(7294),i=a(470),l=a(5893),o=function(){var t=(0,s.useContext)(i.ThemeContext),e=t.colorMode,a=t.setColorMode;return(0,l.jsx)("button",{className:"btn-octicon",type:"button","aria-label":"Color mode",onClick:function(){return a("dark"===e?"light":"dark")},style:{display:"block",marginLeft:"auto",marginBottom:12},children:"dark"===e?(0,l.jsx)("svg",{className:"octicon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z"})}):(0,l.jsx)("svg",{className:"octicon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z"})})})},r=a(2777),c=a(9499),u=function t(e,a,n,s){var i=this;(0,r.Z)(this,t),(0,c.Z)(this,"callback",void 0),(0,c.Z)(this,"tickCallback",void 0),(0,c.Z)(this,"stopCallback",void 0),(0,c.Z)(this,"timestamps",void 0),(0,c.Z)(this,"totalElapsedTime",void 0),(0,c.Z)(this,"raf",void 0),(0,c.Z)(this,"startTimestamp",void 0),(0,c.Z)(this,"currentTimestampIndex",void 0),(0,c.Z)(this,"animationFrame",void 0),(0,c.Z)(this,"setTimestamps",(function(t){i.timestamps=t})),(0,c.Z)(this,"start",(function(){var t;(i.stop((function(){})),i.timestamps.length>0)&&(i.startTimestamp=performance.now(),i.currentTimestampIndex=0,null===(t=i.raf)||void 0===t||t.call(window,i.tick))})),(0,c.Z)(this,"stop",(function(t){var e;i.animationFrame&&(window.cancelAnimationFrame(i.animationFrame),delete i.animationFrame),i.totalElapsedTime=0,t?t():null===(e=i.stopCallback)||void 0===e||e.call(i)})),(0,c.Z)(this,"tick",(function(){var t,e;i.totalElapsedTime=performance.now()-i.startTimestamp,null===(t=i.tickCallback)||void 0===t||t.call(i,i.totalElapsedTime),i.totalElapsedTime>=i.timestamps[i.currentTimestampIndex]&&(i.callback(),i.currentTimestampIndex+=1,i.currentTimestampIndex>=i.timestamps.length)?i.stop():i.animationFrame=null===(e=i.raf)||void 0===e?void 0:e.call(window,i.tick)})),this.callback=e,this.tickCallback=a,this.stopCallback=n,this.timestamps=s||[],this.totalElapsedTime=0,this.raf=window.requestAnimationFrame,this.startTimestamp=0,this.currentTimestampIndex=0},m=1e3/59.7275,d=function(t,e,a){for(var n=[t],s=0;s<e-1;s++)n.push(n[s]-a);return n.reverse().filter((function(t){return t>=0}))},p=function(t){var e=t.label,a=t.state,n=t.setState;return(0,l.jsxs)("div",{className:"input-group",style:{marginTop:8},children:[(0,l.jsx)("span",{className:"input-group-button",children:(0,l.jsx)("button",{className:"btn",type:"button",disabled:!0,style:{color:"var(--color-btn-text)"},children:e})}),(0,l.jsx)("input",{className:"form-control",type:"text","aria-label":e,value:a,onKeyPress:function(t){/[0-9]/.test(t.key)||t.preventDefault()},onInput:function(t){var e=parseInt(t.currentTarget.value);Number.isInteger(e)?n(parseInt(t.currentTarget.value)):n(0)}})]})},h=function(){var t=(0,s.useState)(0),e=t[0],a=t[1],i=(0,s.useState)(5e3),r=i[0],c=i[1],h=(0,s.useState)(1e3),f=h[0],v=h[1],b=(0,s.useState)(0),x=b[0],w=b[1],k=(0,s.useState)(0),g=k[0],j=k[1],T=(0,s.useState)(),N=T[0],S=T[1],y=(0,s.useState)(!1),E=y[0],C=y[1],Z=(0,s.useState)(0),z=Z[0],_=Z[1],M=(0,s.useState)(0),F=M[0],I=M[1],A=(0,s.useState)(),B=A[0],P=A[1],H=(0,s.useState)(!1),L=H[0],R=H[1],O=(0,s.useState)(5),X=O[0],q=(O[1],(0,s.useState)(500)),D=q[0];q[1];return(0,s.useEffect)((function(){var t=new n.Howl({src:["beep.wav"]}),e=new u((function(){return t.play()}),(function(t){return I(t)}),(function(){R(!1),I(z)}));P(e)}),[]),(0,s.useEffect)((function(){var t=new n.Howl({src:["beep.wav"]}),e=new u((function(){return t.play()}),(function(t){return j(t)}),(function(){C(!1),j(0),null===B||void 0===B||B.start(),R(!0)}));S(e)}),[B]),(0,s.useEffect)((function(){var t=d(z,X,D);null===B||void 0===B||B.setTimestamps(t)}),[z,B,X,D]),(0,s.useEffect)((function(){var t=d(r,X,D);null===N||void 0===N||N.setTimestamps(t)}),[r,N,X,D]),(0,s.useEffect)((function(){_(Math.max(0,f*m+e))}),[e,f]),(0,s.useEffect)((function(){null===B||void 0===B||B.stop(),R(!1),j(0),null===N||void 0===N||N.stop((function(){C(!1),j(0)})),C(!1)}),[e,r,f,x]),(0,l.jsxs)("div",{style:{maxWidth:450,marginLeft:"auto",marginRight:"auto",padding:16},children:[(0,l.jsx)(o,{}),(0,l.jsxs)("div",{className:"d-flex",style:{gap:16,marginBottom:16},children:[(0,l.jsxs)("div",{className:"Box p-3 color-bg-subtle",style:{width:"100%"},children:[(0,l.jsx)("p",{className:"text-bold",children:"Pre-time (s)"}),(0,l.jsx)("p",{className:"h2 m-0",children:"".concat(((r-g)/1e3).toFixed(2))})]}),(0,l.jsxs)("div",{className:"Box p-3 color-bg-subtle",style:{width:"100%"},children:[(0,l.jsx)("p",{className:"text-bold",children:"Time (s)"}),(0,l.jsx)("p",{className:"h2 m-0",children:"".concat(((z-F)/1e3).toFixed(2))})]})]}),(0,l.jsx)(p,{label:"Lag (ms)",state:e,setState:a}),(0,l.jsx)(p,{label:"Pre-timer (ms)",state:r,setState:c}),(0,l.jsx)(p,{label:"Target frame",state:f,setState:v}),(0,l.jsx)(p,{label:"Frame hit",state:x,setState:w}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"d-flex",style:{gap:16},children:[(0,l.jsx)("button",{className:"btn btn-block",type:"button",onClick:function(){0!==x&&a((function(t){return Math.round(t+(f-x)*m)}))},children:"Update"}),L||E?(0,l.jsx)("button",{className:"btn btn-block",type:"button",onClick:function(){null===N||void 0===N||N.stop((function(){C(!1),j(0)})),C(!1),null===B||void 0===B||B.stop(),R(!1)},children:"Stop"}):(0,l.jsx)("button",{className:"btn btn-block",type:"button",onClick:function(){null===N||void 0===N||N.start(),C(!0)},children:"Start"})]})]})}},5301:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4249)}])}},function(t){t.O(0,[194,774,888,179],(function(){return e=5301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);